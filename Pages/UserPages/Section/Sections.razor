@page "/sections"

@using Apex.GameZone.UI.Models
@using Apex.GameZone.UI.Services.SectionServices

@inject ISectionService _sectionService;

<div class="container-fluid">
    <div class="row">
        @foreach (var item in sections)
        {
            <div class="col-xl-6">
                <h3 class="mt-3 align-content-center">@item.Name</h3>
                @if (item.IsBusy)
                {
                    <RadzenImage Path="/images/90479-auto-xbox-game-green-theft-grand-grass.png" Click=@(args => OpenSection(item.Id)) alt="gameZoneImage" Style="width: 20%;" />
                }
                else
                {
                    <RadzenImage Path="/images/103-1038039_new-used-games-game-controller.png" Click=@(args => OpenSection(item.Id)) alt="gameZoneImage" Style="width: 20%;" />
                }
            </div>
        }
    </div>
</div>


@code {
    List<SectionModel> sections = new List<SectionModel>();

    protected override async Task OnInitializedAsync()
    {
        sections = await _sectionService.GetAllSectionsByGameZoneId(4);
    }

    void OpenSection(int id)
    {

    }
}